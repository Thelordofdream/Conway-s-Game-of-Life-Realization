//
//  main.c
//  001
//
//  Created by 张铭杰 on 15/4/5.
//  Copyright (c) 2015年 张铭杰. All rights reserved.
//

#include<stdio.h>
int delay(unsigned int i);
int main(void)
{
    char a[24][24]={' '};
    char b[24][24]={' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',
        ' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',
				    ' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',
				    ' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',
				    ' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',
				    ' ',' ',' ',' ',' ','8','8',' ',' ',' ',' ',' ','8',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',
				    ' ',' ',' ',' ',' ','8','8',' ',' ',' ',' ','8','8','8',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',
				    ' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','8',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',
				    ' ',' ',' ',' ',' ',' ',' ',' ','8',' ','8',' ',' ',' ','8',' ','8',' ',' ',' ',' ',' ',' ',' ',
				    ' ',' ',' ',' ',' ',' ',' ',' ',' ','8',' ','8',' ','8',' ','8',' ',' ',' ',' ',' ',' ',' ',' ',
				    ' ',' ',' ',' ',' ','8','8',' ','8',' ','8',' ','8',' ','8',' ','8',' ','8','8',' ',' ',' ',' ',
				    ' ',' ',' ',' ',' ',' ','8','8',' ','8',' ','8',' ','8',' ','8',' ','8','8',' ',' ',' ',' ',' ',
				    ' ',' ',' ',' ',' ',' ','8',' ','8',' ','8',' ',' ',' ','8',' ','8',' ','8',' ',' ',' ',' ',' ',
				    ' ',' ',' ',' ',' ',' ',' ','8',' ','8',' ','8',' ','8',' ','8',' ','8',' ',' ',' ',' ',' ',' ',
				    ' ',' ',' ',' ',' ',' ',' ',' ','8',' ','8',' ',' ',' ','8',' ','8',' ',' ',' ',' ',' ',' ',' ',
				    ' ',' ',' ',' ',' ',' ',' ',' ',' ','8',' ','8',' ','8',' ','8',' ',' ',' ',' ',' ',' ',' ',' ',
				    ' ',' ',' ',' ',' ',' ',' ',' ','8',' ','8',' ','8',' ','8',' ','8',' ',' ',' ',' ',' ',' ',' ',
				    ' ',' ',' ',' ',' ',' ',' ',' ',' ','8',' ','8',' ','8',' ','8',' ',' ',' ',' ',' ',' ',' ',' ',
				    ' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','8',' ','8',' ','8',' ',' ',' ',' ',' ',' ',' ',' ',' ',
				    ' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','8',' ','8',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',
				    ' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','8',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',
				    ' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',
				    ' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',
				    ' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',};//The initial state
    int n=0,i=0,j=0,k=0,x=0,y=0;
    while(1)
    {
        for(i=1;i<=22;i++)
  	     {   for(j=1;j<=22;j++)
         {
             n=0;
             for(x=(i-1);x<=(i+1);x++)
	            {  for(y=(j-1);y<=(j+1);y++)
	               {   if(b[x][y]=='8')
                       n=n+1;
                   }
                }
             
             if(b[i][j]=='8')
	            {
                    if(n>4)
                        a[i][j]=' ';
                    else if(n<3)
                        a[i][j]=' ';
                    else if(n==3)
                        a[i][j]='8';
                    else if(n==4)
                        a[i][j]='8';
                    printf("%c ",a[i][j]);
                }
	            else if(b[i][j]==' ')
                {
                    if(n==3)
                        a[i][j]='8';
                    else
                        a[i][j]=' ';
                    printf("%c ",a[i][j]);
                }
         }
             printf("\n");
         }
        printf("\n");
        k++;
        printf("No.%d",k);
        delay(1000);
        
        for(i=1;i<=22;i++)
  	     {   for(j=1;j<=22;j++)
         {
             n=0;
             for(x=(i-1);x<=(i+1);x++)
	            {  for(y=(j-1);y<=(j+1);y++)
	               {   if(a[x][y]=='8')
                       n=n+1;
                   }
                }
             
             if(a[i][j]=='8')
	            {
                    if(n>4)
                        b[i][j]=' ';
                    else if(n<3)
                        b[i][j]=' ';
                    else if(n==3)
                        b[i][j]='8';
                    else if(n==4)
                        b[i][j]='8';
                    printf("%c ",b[i][j]);
                }
	            else if(a[i][j]==' ')
                {
                    if(n==3)
                        b[i][j]='8';
                    else 
                        b[i][j]=' ';
                    printf("%c ",b[i][j]);
                }	
         }
             printf("\n");
         }
        k++;
        printf("No.%d",k);
        delay(1000);
    }
    
}
int delay(unsigned int i)	
{
    unsigned int j,k;
    for(j=i; j>0; j--)
        for(k=100000; k>0; k--);
    return 0;
}